{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mpran\\\\OneDrive\\\\Desktop\\\\Assignment\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js\n\n// Core React imports\nimport React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\"; // Importing styles\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // ======================\n  // 🔧 State Definitions\n  // ======================\n  const [pdfFile, setPdfFile] = useState(null); // Selected PDF file\n  const [filename, setFilename] = useState(\"\"); // Uploaded filename\n  const [question, setQuestion] = useState(\"\"); // User input question\n  const [messages, setMessages] = useState([]); // Chat history\n  const [isThinking, setIsThinking] = useState(false); // Typing animation flag\n  const bottomRef = useRef(); // For auto-scroll\n\n  // ======================\n  // ⏬ Scroll to bottom on message update\n  // ======================\n  useEffect(() => {\n    var _bottomRef$current;\n    (_bottomRef$current = bottomRef.current) === null || _bottomRef$current === void 0 ? void 0 : _bottomRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages, isThinking]);\n\n  // ======================\n  // 📄 File Input Change Handler\n  // ======================\n  const handleFileChange = e => {\n    setPdfFile(e.target.files[0]);\n  };\n\n  // ======================\n  // 📤 Upload PDF to backend\n  // ======================\n  const handleUpload = async () => {\n    if (!pdfFile) return alert(\"📄 Please select a PDF file\");\n    const formData = new FormData();\n    formData.append(\"file\", pdfFile);\n    try {\n      const res = await axios.post(\"http://localhost:8000/upload/\", formData);\n      setFilename(res.data.filename); // Save filename for question referencing\n\n      // Bot response in chat\n      setMessages(prev => [...prev, {\n        type: \"bot\",\n        text: `✅ PDF **${res.data.filename}** uploaded.`\n      }]);\n    } catch {\n      setMessages(prev => [...prev, {\n        type: \"bot\",\n        text: \"❌ Upload failed. Try again.\"\n      }]);\n    }\n  };\n\n  // ======================\n  // ❓ Ask a Question to Backend\n  // ======================\n  const handleAsk = async () => {\n    if (!question.trim() || !filename) return;\n\n    // Append user question to chat\n    setMessages(prev => [...prev, {\n      type: \"user\",\n      text: question\n    }]);\n    setQuestion(\"\"); // Clear input\n    setIsThinking(true); // Show typing animation\n\n    const formData = new FormData();\n    formData.append(\"filename\", filename);\n    formData.append(\"question\", question);\n    try {\n      const res = await axios.post(\"http://localhost:8000/ask/\", formData);\n      setMessages(prev => [...prev, {\n        type: \"bot\",\n        text: res.data.answer\n      }]);\n    } catch {\n      setMessages(prev => [...prev, {\n        type: \"bot\",\n        text: \"⚠️ Could not get answer.\"\n      }]);\n    } finally {\n      setIsThinking(false);\n    }\n  };\n\n  // ======================\n  // 📱 Render UI\n  // ======================\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Lexa \\uD83E\\uDDE0 PDF Q&A Assistant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload-button-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"animated-upload-btn\",\n          children: [\"\\uD83D\\uDCC4 Upload PDF\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: handleFileChange,\n            hidden: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpload,\n          children: \"\\uD83D\\uDCE4 Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-body\",\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-bubble ${msg.type}`,\n        children: msg.text\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this)), isThinking && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-bubble bot typing\",\n        children: \"Lexa is thinking...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: bottomRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Ask something from the PDF...\",\n        value: question,\n        onChange: e => setQuestion(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAsk,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"YZF/sfKwt/ELQxttjjGXe/5TVqI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","App","_s","pdfFile","setPdfFile","filename","setFilename","question","setQuestion","messages","setMessages","isThinking","setIsThinking","bottomRef","_bottomRef$current","current","scrollIntoView","behavior","handleFileChange","e","target","files","handleUpload","alert","formData","FormData","append","res","post","data","prev","type","text","handleAsk","trim","answer","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","hidden","onClick","map","msg","idx","ref","placeholder","value","_c","$RefreshReg$"],"sources":["C:/Users/mpran/OneDrive/Desktop/Assignment/frontend/src/App.js"],"sourcesContent":["// src/App.js\r\n\r\n// Core React imports\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./App.css\"; // Importing styles\r\n\r\nfunction App() {\r\n  // ======================\r\n  // 🔧 State Definitions\r\n  // ======================\r\n  const [pdfFile, setPdfFile] = useState(null);             // Selected PDF file\r\n  const [filename, setFilename] = useState(\"\");             // Uploaded filename\r\n  const [question, setQuestion] = useState(\"\");             // User input question\r\n  const [messages, setMessages] = useState([]);             // Chat history\r\n  const [isThinking, setIsThinking] = useState(false);      // Typing animation flag\r\n  const bottomRef = useRef();                               // For auto-scroll\r\n\r\n  // ======================\r\n  // ⏬ Scroll to bottom on message update\r\n  // ======================\r\n  useEffect(() => {\r\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages, isThinking]);\r\n\r\n  // ======================\r\n  // 📄 File Input Change Handler\r\n  // ======================\r\n  const handleFileChange = (e) => {\r\n    setPdfFile(e.target.files[0]);\r\n  };\r\n\r\n  // ======================\r\n  // 📤 Upload PDF to backend\r\n  // ======================\r\n  const handleUpload = async () => {\r\n    if (!pdfFile) return alert(\"📄 Please select a PDF file\");\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", pdfFile);\r\n\r\n    try {\r\n      const res = await axios.post(\"http://localhost:8000/upload/\", formData);\r\n      setFilename(res.data.filename); // Save filename for question referencing\r\n\r\n      // Bot response in chat\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { type: \"bot\", text: `✅ PDF **${res.data.filename}** uploaded.` },\r\n      ]);\r\n    } catch {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { type: \"bot\", text: \"❌ Upload failed. Try again.\" },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  // ======================\r\n  // ❓ Ask a Question to Backend\r\n  // ======================\r\n  const handleAsk = async () => {\r\n    if (!question.trim() || !filename) return;\r\n\r\n    // Append user question to chat\r\n    setMessages((prev) => [...prev, { type: \"user\", text: question }]);\r\n    setQuestion(\"\"); // Clear input\r\n    setIsThinking(true); // Show typing animation\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"filename\", filename);\r\n    formData.append(\"question\", question);\r\n\r\n    try {\r\n      const res = await axios.post(\"http://localhost:8000/ask/\", formData);\r\n      setMessages((prev) => [...prev, { type: \"bot\", text: res.data.answer }]);\r\n    } catch {\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { type: \"bot\", text: \"⚠️ Could not get answer.\" },\r\n      ]);\r\n    } finally {\r\n      setIsThinking(false);\r\n    }\r\n  };\r\n\r\n  // ======================\r\n  // 📱 Render UI\r\n  // ======================\r\n  return (\r\n    <div className=\"chat-wrapper\">\r\n      {/* 🔹 Header */}\r\n      <div className=\"chat-header\">\r\n        <h1>Lexa 🧠 PDF Q&A Assistant</h1>\r\n\r\n        {/* Upload Section */}\r\n        <div className=\"upload-button-container\">\r\n          <label className=\"animated-upload-btn\">\r\n            📄 Upload PDF\r\n            <input type=\"file\" onChange={handleFileChange} hidden />\r\n          </label>\r\n          <button onClick={handleUpload}>📤 Upload</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 🔹 Chat Body */}\r\n      <div className=\"chat-body\">\r\n        {messages.map((msg, idx) => (\r\n          <div key={idx} className={`chat-bubble ${msg.type}`}>\r\n            {msg.text}\r\n          </div>\r\n        ))}\r\n\r\n        {/* Typing Animation */}\r\n        {isThinking && (\r\n          <div className=\"chat-bubble bot typing\">Lexa is thinking...</div>\r\n        )}\r\n        <div ref={bottomRef} />\r\n      </div>\r\n\r\n      {/* 🔹 Chat Footer */}\r\n      <div className=\"chat-footer\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Ask something from the PDF...\"\r\n          value={question}\r\n          onChange={(e) => setQuestion(e.target.value)}\r\n        />\r\n        <button onClick={handleAsk}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":";;AAAA;;AAEA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb;EACA;EACA;EACA,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAa;EAC1D,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAa;EAC1D,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAa;EAC1D,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAa;EAC1D,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAM;EAC1D,MAAMkB,SAAS,GAAGjB,MAAM,CAAC,CAAC,CAAC,CAA+B;;EAE1D;EACA;EACA;EACAC,SAAS,CAAC,MAAM;IAAA,IAAAiB,kBAAA;IACd,CAAAA,kBAAA,GAAAD,SAAS,CAACE,OAAO,cAAAD,kBAAA,uBAAjBA,kBAAA,CAAmBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAC3D,CAAC,EAAE,CAACR,QAAQ,EAAEE,UAAU,CAAC,CAAC;;EAE1B;EACA;EACA;EACA,MAAMO,gBAAgB,GAAIC,CAAC,IAAK;IAC9Bf,UAAU,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC/B,CAAC;;EAED;EACA;EACA;EACA,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACnB,OAAO,EAAE,OAAOoB,KAAK,CAAC,6BAA6B,CAAC;IAEzD,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEvB,OAAO,CAAC;IAEhC,IAAI;MACF,MAAMwB,GAAG,GAAG,MAAM7B,KAAK,CAAC8B,IAAI,CAAC,+BAA+B,EAAEJ,QAAQ,CAAC;MACvElB,WAAW,CAACqB,GAAG,CAACE,IAAI,CAACxB,QAAQ,CAAC,CAAC,CAAC;;MAEhC;MACAK,WAAW,CAAEoB,IAAI,IAAK,CACpB,GAAGA,IAAI,EACP;QAAEC,IAAI,EAAE,KAAK;QAAEC,IAAI,EAAE,WAAWL,GAAG,CAACE,IAAI,CAACxB,QAAQ;MAAe,CAAC,CAClE,CAAC;IACJ,CAAC,CAAC,MAAM;MACNK,WAAW,CAAEoB,IAAI,IAAK,CACpB,GAAGA,IAAI,EACP;QAAEC,IAAI,EAAE,KAAK;QAAEC,IAAI,EAAE;MAA8B,CAAC,CACrD,CAAC;IACJ;EACF,CAAC;;EAED;EACA;EACA;EACA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI,CAAC1B,QAAQ,CAAC2B,IAAI,CAAC,CAAC,IAAI,CAAC7B,QAAQ,EAAE;;IAEnC;IACAK,WAAW,CAAEoB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;MAAEC,IAAI,EAAE,MAAM;MAAEC,IAAI,EAAEzB;IAAS,CAAC,CAAC,CAAC;IAClEC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;IACjBI,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;;IAErB,MAAMY,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAErB,QAAQ,CAAC;IACrCmB,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEnB,QAAQ,CAAC;IAErC,IAAI;MACF,MAAMoB,GAAG,GAAG,MAAM7B,KAAK,CAAC8B,IAAI,CAAC,4BAA4B,EAAEJ,QAAQ,CAAC;MACpEd,WAAW,CAAEoB,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;QAAEC,IAAI,EAAE,KAAK;QAAEC,IAAI,EAAEL,GAAG,CAACE,IAAI,CAACM;MAAO,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,MAAM;MACNzB,WAAW,CAAEoB,IAAI,IAAK,CACpB,GAAGA,IAAI,EACP;QAAEC,IAAI,EAAE,KAAK;QAAEC,IAAI,EAAE;MAA2B,CAAC,CAClD,CAAC;IACJ,CAAC,SAAS;MACRpB,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;;EAED;EACA;EACA;EACA,oBACEZ,OAAA;IAAKoC,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAE3BrC,OAAA;MAAKoC,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BrC,OAAA;QAAAqC,QAAA,EAAI;MAAyB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGlCzC,OAAA;QAAKoC,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtCrC,OAAA;UAAOoC,SAAS,EAAC,qBAAqB;UAAAC,QAAA,GAAC,yBAErC,eAAArC,OAAA;YAAO+B,IAAI,EAAC,MAAM;YAACW,QAAQ,EAAExB,gBAAiB;YAACyB,MAAM;UAAA;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC,eACRzC,OAAA;UAAQ4C,OAAO,EAAEtB,YAAa;UAAAe,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNzC,OAAA;MAAKoC,SAAS,EAAC,WAAW;MAAAC,QAAA,GACvB5B,QAAQ,CAACoC,GAAG,CAAC,CAACC,GAAG,EAAEC,GAAG,kBACrB/C,OAAA;QAAeoC,SAAS,EAAE,eAAeU,GAAG,CAACf,IAAI,EAAG;QAAAM,QAAA,EACjDS,GAAG,CAACd;MAAI,GADDe,GAAG;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAER,CACN,CAAC,EAGD9B,UAAU,iBACTX,OAAA;QAAKoC,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACjE,eACDzC,OAAA;QAAKgD,GAAG,EAAEnC;MAAU;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC,eAGNzC,OAAA;MAAKoC,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BrC,OAAA;QACE+B,IAAI,EAAC,MAAM;QACXkB,WAAW,EAAC,+BAA+B;QAC3CC,KAAK,EAAE3C,QAAS;QAChBmC,QAAQ,EAAGvB,CAAC,IAAKX,WAAW,CAACW,CAAC,CAACC,MAAM,CAAC8B,KAAK;MAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,eACFzC,OAAA;QAAQ4C,OAAO,EAAEX,SAAU;QAAAI,QAAA,EAAC;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvC,EAAA,CA7HQD,GAAG;AAAAkD,EAAA,GAAHlD,GAAG;AA+HZ,eAAeA,GAAG;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}